{"version":3,"file":"extension.js","mappings":"k3BA0DA,oBAAyBA,GACC,UAAlBC,EAAGC,WA9CX,SAA6CF,GACzC,MAAMG,EAAWC,EAAOC,GAAGC,oCACvB,kBACA,CACIC,4BAA6BC,UAEzB,MAAMC,EAAUL,EAAOM,IAAIC,SACvBX,EAAQY,gBACLC,GACLC,OAEF,OAAKC,EAAGC,WAAWP,GAQZ,CACH,IAAIL,EAAOa,yBAEP,qBAEAR,EAEA,GAEA,CAAC,EAEDT,EAAQkB,UAAUC,YAAYC,WAlBlChB,EAAOiB,OAAOC,mBACV,+CAA+Cb,oDAG5C,KAmBfc,2BAA4Bf,MAAOgB,GAExBA,IAKnBxB,EAAQyB,cAAcC,KAAKvB,EAC/B,CAUIG,CAAoCN,GANhCI,EAAOiB,OAAOM,uBACV,mDAMZ,EAEA,wBAEA,EAvEA,kBAEA,YACA,YAGMd,EAAuB,CAAC,MAAO,UAAW,e,SCNhDe,EAAOC,QAAUC,QAAQ,S,SCAzBF,EAAOC,QAAUC,QAAQ,K,SCAzBF,EAAOC,QAAUC,QAAQ,K,GCCrBC,EAA2B,CAAC,ECE5BC,EDCJ,SAASC,EAAoBC,GAE5B,IAAIC,EAAeJ,EAAyBG,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaN,QAGrB,IAAID,EAASG,EAAyBG,GAAY,CAGjDL,QAAS,CAAC,GAOX,OAHAQ,EAAoBH,GAAUI,KAAKV,EAAOC,QAASD,EAAQA,EAAOC,QAASI,GAGpEL,EAAOC,OACf,CCnB0BI,CAAoB,K","sources":["webpack://game-mcp-vscode/./src/extension.ts","webpack://game-mcp-vscode/external commonjs \"vscode\"","webpack://game-mcp-vscode/external node-commonjs \"fs\"","webpack://game-mcp-vscode/external node-commonjs \"os\"","webpack://game-mcp-vscode/webpack/bootstrap","webpack://game-mcp-vscode/webpack/startup"],"sourcesContent":["import * as vscode from 'vscode';\r\nimport * as path from 'path';\r\nimport * as fs from 'fs';\r\nimport * as os from 'os';\r\n\r\n// Relative path to the bundled game-mcp executable inside the extension\r\nconst GAME_MCP_BIN_WINDOWS = ['bin', 'win-x64', 'game-mcp.exe'];\r\n\r\n/**\r\n * Registers the Game Discovery MCP server definition provider with VS Code.\r\n * VS Code will automatically start the server process when Copilot agent mode\r\n * needs it, and shut it down when the extension deactivates.\r\n */\r\nfunction registerMcpServerDefinitionProvider(context: vscode.ExtensionContext): void {\r\n    const provider = vscode.lm.registerMcpServerDefinitionProvider(\r\n        'game-mcp.server',\r\n        {\r\n            provideMcpServerDefinitions: async () => {\r\n                // Resolve the path to the bundled executable\r\n                const exePath = vscode.Uri.joinPath(\r\n                    context.extensionUri,\r\n                    ...GAME_MCP_BIN_WINDOWS\r\n                ).fsPath;\r\n\r\n                if (!fs.existsSync(exePath)) {\r\n                    vscode.window.showWarningMessage(\r\n                        `Game Discovery MCP: executable not found at ${exePath}. ` +\r\n                        `Please rebuild the extension or reinstall it.`\r\n                    );\r\n                    return [];\r\n                }\r\n\r\n                return [\r\n                    new vscode.McpStdioServerDefinition(\r\n                        // Display name shown in the Copilot MCP UI\r\n                        'Game Discovery MCP',\r\n                        // Binary to invoke\r\n                        exePath,\r\n                        // No additional arguments needed â€“ the server uses stdio\r\n                        [],\r\n                        // No extra environment variables required\r\n                        {},\r\n                        // Version string reported to MCP clients\r\n                        context.extension.packageJSON.version as string\r\n                    )\r\n                ];\r\n            },\r\n\r\n            resolveMcpServerDefinition: async (server: vscode.McpServerDefinition) => {\r\n                // No additional setup needed; return the definition as-is\r\n                return server;\r\n            }\r\n        }\r\n    );\r\n\r\n    context.subscriptions.push(provider);\r\n}\r\n\r\nexport function activate(context: vscode.ExtensionContext): void {\r\n    if (os.platform() !== 'win32') {\r\n        vscode.window.showInformationMessage(\r\n            'Game Discovery MCP is only supported on Windows.'\r\n        );\r\n        return;\r\n    }\r\n\r\n    registerMcpServerDefinitionProvider(context);\r\n}\r\n\r\nexport function deactivate(): void {\r\n    // Cleanup is handled automatically via context.subscriptions\r\n}\r\n","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"os\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(265);\n"],"names":["context","os","platform","provider","vscode","lm","registerMcpServerDefinitionProvider","provideMcpServerDefinitions","async","exePath","Uri","joinPath","extensionUri","GAME_MCP_BIN_WINDOWS","fsPath","fs","existsSync","McpStdioServerDefinition","extension","packageJSON","version","window","showWarningMessage","resolveMcpServerDefinition","server","subscriptions","push","showInformationMessage","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}